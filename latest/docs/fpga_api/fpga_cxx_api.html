

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OPAE C++ Core API Reference &mdash; OPAE</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'1.4.0',
              LANGUAGE:'en',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OPAE Python API Reference" href="fpga_python_api.html" />
    <link rel="prev" title="OPAE C API Reference" href="fpga_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OPAE
          

          
          </a>

          
            
            
              <div class="version">
                1.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">OPAE User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quick_start/readme.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_guide/installation_guide.html">OPAE Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="prog_guide/readme.html">OPAE C API Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ase_userguide/ase_userguide.html">Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">OPAE Python Bindings</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Libraries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../build_chain/fpga_api/api_build.html">Building OPAE SDK Artifacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="fpga_api.html">OPAE C API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OPAE C++ Core API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#goals">Goals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simplicity">Simplicity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensibility-and-interoperability">Extensibility and Interoperability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modern-c-coding-practices">Modern C++ Coding Practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#coding-style">Coding Style</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fundamental-types">Fundamental Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pvalue-h">pvalue.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#properties-h">properties.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-classes">Resource Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#token-h">token.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#handle-h">handle.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shared-buffer-h">shared_buffer.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#errors-h">errors.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#events-h">events.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sysobject-h">sysobject.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#except-h">except.h</a></li>
<li class="toctree-l3"><a class="reference internal" href="#misc">Misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#version-h">version.h</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fpga_python_api.html">OPAE Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="plug_guide/readme.html">Plugin Developer’s Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Linux Kernel Drivers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../drv_arch/drv_arch.html">Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_chain/fpga_driver/driver_build.html">Building the OPAE Intel FPGA driver (out-of-tree)</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE FPGA Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/coreidle/coreidle.html">coreidle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgabist/fpgabist.html">fpgabist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgainfo/fpgainfo.html">fpgainfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaconf/fpgaconf.html">fpgaconf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgad/fpgad.html">fpgad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgadiag/README.html">fpgadiag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaflash/fpgaflash.html">fpgaflash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaflash/superrsu.html">super-rsu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/super-rsu/super-rsu.html">Super Remote System Update User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgamux/fpgamux.html">fpgamux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaport/fpgaport.html">fpgaport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/mmlink/mmlink.html">mmlink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/packager/packager.html">packager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/userclk/userclk.html">userclk</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE AFU Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/hssi_config/readme.html">hssi_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/hssi_loopback/readme.html">hssi_loopback</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE support on Intel FPGA PCIe driver and Linux PCIe FPGA DFL driver</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fpga_dfl_drv/fpga_dfl_drv.html">Enable OPAE on FPGA PCIe drivers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OPAE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>OPAE C++ Core API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/fpga_api/fpga_cxx_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="opae-c-core-api-reference">
<h1>OPAE C++ Core API Reference<a class="headerlink" href="#opae-c-core-api-reference" title="Permalink to this headline">¶</a></h1>
<p>The reference documentation for the OPAE C++ Core API is grouped into the following
sections:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a></li>
<li><a class="reference internal" href="#goals" id="id2">Goals</a><ul>
<li><a class="reference internal" href="#simplicity" id="id3">Simplicity</a></li>
<li><a class="reference internal" href="#extensibility-and-interoperability" id="id4">Extensibility and Interoperability</a></li>
<li><a class="reference internal" href="#modern-c-coding-practices" id="id5">Modern C++ Coding Practices</a></li>
<li><a class="reference internal" href="#error-handling" id="id6">Error Handling</a></li>
<li><a class="reference internal" href="#coding-style" id="id7">Coding Style</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fundamental-types" id="id8">Fundamental Types</a><ul>
<li><a class="reference internal" href="#properties" id="id9">Properties</a></li>
<li><a class="reference internal" href="#pvalue-h" id="id10">pvalue.h</a></li>
<li><a class="reference internal" href="#properties-h" id="id11">properties.h</a></li>
<li><a class="reference internal" href="#resource-classes" id="id12">Resource Classes</a></li>
<li><a class="reference internal" href="#token-h" id="id13">token.h</a></li>
<li><a class="reference internal" href="#handle-h" id="id14">handle.h</a></li>
<li><a class="reference internal" href="#shared-buffer-h" id="id15">shared_buffer.h</a></li>
<li><a class="reference internal" href="#errors-h" id="id16">errors.h</a></li>
<li><a class="reference internal" href="#events-h" id="id17">events.h</a></li>
<li><a class="reference internal" href="#sysobject-h" id="id18">sysobject.h</a></li>
<li><a class="reference internal" href="#exceptions" id="id19">Exceptions</a></li>
<li><a class="reference internal" href="#except-h" id="id20">except.h</a></li>
<li><a class="reference internal" href="#misc" id="id21">Misc</a></li>
<li><a class="reference internal" href="#version-h" id="id22">version.h</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The OPAE C++ API enables C++ developers with the means to use FPGA resources
by integrating the OPAE software stack into C++ applications.</p>
</div>
<div class="section" id="goals">
<h2><a class="toc-backref" href="#id2">Goals</a><a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simplicity">
<h3><a class="toc-backref" href="#id3">Simplicity</a><a class="headerlink" href="#simplicity" title="Permalink to this headline">¶</a></h3>
<p>Keep the API as small and lightweight as possible. Although features such as
system validation and orchestration are beyond the scope of this API, using
this API for their development should be relatively easy.</p>
</div>
<div class="section" id="extensibility-and-interoperability">
<h3><a class="toc-backref" href="#id4">Extensibility and Interoperability</a><a class="headerlink" href="#extensibility-and-interoperability" title="Permalink to this headline">¶</a></h3>
<p>While keeping to the goal of simplicity, the OPAE C++ API is designed to allow
for better reuse by either extending the API or by integrating with other
languages.</p>
</div>
<div class="section" id="modern-c-coding-practices">
<h3><a class="toc-backref" href="#id5">Modern C++ Coding Practices</a><a class="headerlink" href="#modern-c-coding-practices" title="Permalink to this headline">¶</a></h3>
<p>The OPAE C++ API uses the C++ 11 standard library and makes use of its features
whenever practical. The OPAE C++ API is also designed to require the minimum
number of third-party libraries/dependencies.</p>
</div>
<div class="section" id="error-handling">
<h3><a class="toc-backref" href="#id6">Error Handling</a><a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h3>
<p>The OPAE C++ API is designed to throw exceptions when appropriate. The
structure of OPAE C++ exceptions is similar to the error codes in the
OPAE C API. This gives users of the API more freedom on error handling
while providing better debug information in cases of failure.</p>
</div>
<div class="section" id="coding-style">
<h3><a class="toc-backref" href="#id7">Coding Style</a><a class="headerlink" href="#coding-style" title="Permalink to this headline">¶</a></h3>
<p>For formatting of the OPAE C++ API complies with most of the recommendations
of the Google C++ style. For example, the OPAE C++ API uses:</p>
<ul class="simple">
<li>opening braces on the same line as their scope definition</li>
<li>spaces instead of tabs for indentation</li>
<li>indentation of two spaces</li>
</ul>
</div>
</div>
<div class="section" id="fundamental-types">
<h2><a class="toc-backref" href="#id8">Fundamental Types</a><a class="headerlink" href="#fundamental-types" title="Permalink to this headline">¶</a></h2>
<p>Basic types for the OPAE C++ API are found in the <cite>opae::fpga::types</cite>
namespace. They serve as an adapter layer between the OPAE C API and
the OPAE C++ layer. Aside from providing a C++ binding to the C
fundamental types, these types also:</p>
<ul class="simple">
<li>manage the lifetime and scope of the corresponding C struct.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>For example a C++ destructor will take care of calling the
appropriate C function to release the data structure being
wrapped.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>provide a friendly syntax for using the OPAE C type.</li>
</ul>
<p>Most classes in this namespace have a <cite>c_type()</cite> method that returns
the C data structure being wrapped, making it easy to use the OPAE C++
type with the OPAE C API. Alternatively, most classes in this namespace
have implicit conversion operators that enable interoperability with
the OPAE C API.</p>
<div class="section" id="properties">
<h3><a class="toc-backref" href="#id9">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<p>C++ class <cite>properties</cite> wraps <cite>fpga_properties</cite> and uses <cite>pvalue</cite>
and <cite>guid_t</cite> to get and set properties stored in an instance of
an <cite>fpga_properties</cite>. <cite>pvalue</cite> and <cite>guid_t</cite> are designed to call
an accessor method in the OPAE C API to either read property
values or write them. Most accessor methods in the OPAE C API
share a similar signature, so <cite>pvalue</cite> generalizes them into
common operations that translate into calling the corresponding
C API function. <cite>guid_t</cite> follows similar patterns when reading
or assigning values.</p>
</div>
<div class="section" id="pvalue-h">
<h3><a class="toc-backref" href="#id10">pvalue.h</a><a class="headerlink" href="#pvalue-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/pvalue.h </p>
</div>
</div>
<div class="section" id="properties-h">
<h3><a class="toc-backref" href="#id11">properties.h</a><a class="headerlink" href="#properties-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/properties.h </p>
</div>
</div>
<div class="section" id="resource-classes">
<h3><a class="toc-backref" href="#id12">Resource Classes</a><a class="headerlink" href="#resource-classes" title="Permalink to this headline">¶</a></h3>
<p>The <cite>token</cite>, <cite>handle</cite>, and <cite>shared_buffer</cite> classes are used to
enumerate and access FPGA resources. <cite>properties</cite> are used to
narrow the search space for <cite>token</cite>’s. Before enumerating the
accelerator resources in the system, applications can produce
one or more <cite>properties</cite> objects whose values are set to the
desired characteristics for the resource. For example, an
application may search for an accelerator resource based on
its guid.</p>
<p>Once one or more <cite>token</cite>’s have been enumerated, the application
must choose which <cite>token</cite>’s to request. The <cite>token</cite> is then
converted to a <cite>handle</cite> by requesting that a <cite>handle</cite> object
be allocated and opened for it.</p>
<p>Once a <cite>handle</cite> has been successfully opened, the application
can read and write the associated configuration and status
space. Additionally, the application may use the <cite>handle</cite> to
allocate <cite>shared_buffer</cite>’s or to register <cite>event</cite>’s. The
<cite>shared_buffer</cite> and <cite>event</cite> objects retain a reference to
their owning <cite>handle</cite> so that the <cite>handle</cite> does not lose
scope before freeing the <cite>shared_buffer</cite> and <cite>event</cite> objects.</p>
</div>
<div class="section" id="token-h">
<h3><a class="toc-backref" href="#id13">token.h</a><a class="headerlink" href="#token-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/token.h </p>
</div>
</div>
<div class="section" id="handle-h">
<h3><a class="toc-backref" href="#id14">handle.h</a><a class="headerlink" href="#handle-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/handle.h </p>
</div>
</div>
<div class="section" id="shared-buffer-h">
<h3><a class="toc-backref" href="#id15">shared_buffer.h</a><a class="headerlink" href="#shared-buffer-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/shared_buffer.h </p>
</div>
</div>
<div class="section" id="errors-h">
<h3><a class="toc-backref" href="#id16">errors.h</a><a class="headerlink" href="#errors-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/errors.h </p>
</div>
</div>
<div class="section" id="events-h">
<h3><a class="toc-backref" href="#id17">events.h</a><a class="headerlink" href="#events-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/events.h </p>
</div>
</div>
<div class="section" id="sysobject-h">
<h3><a class="toc-backref" href="#id18">sysobject.h</a><a class="headerlink" href="#sysobject-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/sysobject.h </p>
</div>
</div>
<div class="section" id="exceptions">
<h3><a class="toc-backref" href="#id19">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<p>When the OPAE C++ API encounters an error from the OPAE C
API, it captures the current source code location and
the error code into an object of type <cite>except</cite>, then
throws the <cite>except</cite>. Applications should implement the
appropriate catch blocks required to respond to runtime
exceptions.</p>
</div>
<div class="section" id="except-h">
<h3><a class="toc-backref" href="#id20">except.h</a><a class="headerlink" href="#except-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/except.h </p>
</div>
</div>
<div class="section" id="misc">
<h3><a class="toc-backref" href="#id21">Misc</a><a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<p>The <cite>version</cite> class wraps the OPAE C version API.</p>
</div>
<div class="section" id="version-h">
<h3><a class="toc-backref" href="#id22">version.h</a><a class="headerlink" href="#version-h" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfile: Cannot find file “include/opae/cxx/core/version.h </p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fpga_python_api.html" class="btn btn-neutral float-right" title="OPAE Python API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fpga_api.html" class="btn btn-neutral float-left" title="OPAE C API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>