

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide &mdash; OPAE</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'1.4.0',
              LANGUAGE:'en',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OPAE Python Bindings" href="../README.html" />
    <link rel="prev" title="OPAE C API Programming Guide" href="../fpga_api/prog_guide/readme.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OPAE
          

          
          </a>

          
            
            
              <div class="version">
                1.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">OPAE User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/quick_start/readme.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_guide/installation_guide.html">OPAE Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/prog_guide/readme.html">OPAE C API Programming Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#intended-audience">Intended Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#afu-simulation-environment-ase-overview">AFU Simulation Environment (ASE) Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ase-capabilities">ASE Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ase-limitations">ASE Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ase-based-afu-design-workflow">ASE-Based AFU Design Workflow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-description">Package Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ase-scripts">ASE Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simulation-tool-set-up">Simulation Tool Set Up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ase-environment-check">ASE Environment Check</a></li>
<li class="toctree-l4"><a class="reference internal" href="#afu-simulation-using-the-ase">AFU Simulation Using the ASE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#afu-sim-setup">afu_sim_setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtl-src-config">rtl_src_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generate-ase-environment-py">generate_ase_environment.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cleaning-the-ase-environment">Cleaning the ASE Environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ase-usage">ASE Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#afu-build-instructions">AFU Build Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ase-application-client-build-instructions">ASE Application (Client) Build Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ase-simulator-server-build-instructions">ASE Simulator (Server) Build Instructions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ase-runtime-instructions">ASE Runtime Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recommendations">Recommendations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ase-example">ASE Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operation-reference">Operation Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ase-simulator-makefile-switches">ASE Simulator Makefile Switches</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ase-makefile-build-flow">ASE Makefile Build Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ase-makefile-targets">ASE Makefile Targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ase-makefile-variables">ASE Makefile Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ase-runtime-configuration-options">ASE Runtime Configuration Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging-verbosity-control">Logging Verbosity Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-and-error-reference">Troubleshooting and Error Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">OPAE Python Bindings</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build_chain/fpga_api/api_build.html">Building OPAE SDK Artifacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/fpga_api.html">OPAE C API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/fpga_cxx_api.html">OPAE C++ Core API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/fpga_python_api.html">OPAE Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_api/plug_guide/readme.html">Plugin Developer’s Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Linux Kernel Drivers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../drv_arch/drv_arch.html">Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE FPGA Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaconf/fpgaconf.html">fpgaconf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgad/fpgad.html">fpgad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgadiag/README.html">fpgadiag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgainfo/fpgainfo.html">fpgainfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgaport/fpgaport.html">fpgaport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/fpgasupdate/fpgasupdate.html">fpgasupdate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/mmlink/mmlink.html">mmlink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/packager/packager.html">packager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga_tools/userclk/userclk.html">userclk</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OPAE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/ase_userguide/ase_userguide.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="intel-accelerator-functional-unit-afu-simulation-environment-ase-user-guide">
<h1>Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide<a class="headerlink" href="#intel-accelerator-functional-unit-afu-simulation-environment-ase-user-guide" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="intended-audience">
<h2>Intended Audience<a class="headerlink" href="#intended-audience" title="Permalink to this headline">¶</a></h2>
<p>The <em>Accelerator Functional Unit (AFU) Accelerator Simulation
Environment (ASE) User Guide</em> addresses both beginning and experienced
developers. To be successful, you should have knowledge and experience
in the following areas:</p>
<ul class="simple">
<li>C/C++</li>
<li>Verilog/SystemVerilog</li>
<li>RTL simulators such as Synopsys VCS-MX* or Mentor Graphics
ModelSim-SE* or QuestaSim*</li>
</ul>
<p>Alternatively, you can create a team that includes developers who
specialize in either RTL or software development. Previous FPGA place
and route (PAR) experience is not required to be successful, but PAR
experience is also a useful skill.</p>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The ASE provides a consistent transaction-level hardware interface and
software API that allows you to develop a production-quality Accelerated
Functional Unit (AFU) and host software application. The ASE supports
both the Intel Xeon® Processor with Integrated FPGA and the Intel
Acceleration Stack for Intel Xeon CPU with FPGAs also called the Intel
Programmable Acceleration Card (PAC). The figures in this user guide
illustrate the Intel PAC with Arria® 10 GX FPGA. The figures show a
local memory that is only available on the PAC.</p>
<p>To use the ASE Environment you must have source code in a language that
RTL simulators can interpret. The following languages are possible:</p>
<ul class="simple">
<li>Verilog</li>
<li>SystemVerilog</li>
<li>VHDL</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ASE supports one AFU and one application at a time. The ASE does not support multiple-slot simulation.</p>
</div>
<div class="figure">
<img alt="Supported" src="../../_images/platform_rev1.PNG" />
</div>
<div class="section" id="afu-simulation-environment-ase-overview">
<h3>AFU Simulation Environment (ASE) Overview<a class="headerlink" href="#afu-simulation-environment-ase-overview" title="Permalink to this headline">¶</a></h3>
<p>ASE is a dual-process simulator. One process runs an AFU RTL simulation.
The other process connects to software that runs on the RTL AFU
simulation. This unified simulation environment reduces AFU hardware and
software development time. The OPAE software distribution includes the
ASE.</p>
<div class="figure">
<img alt="Block" src="../../_images/ase_overview_rev1.PNG" />
</div>
<p>The ASE provides two interfaces:</p>
<ul class="simple">
<li>Software: OPAE API implemented in the C programming language.</li>
<li>Hardware: Core Cache Interface (CCI-P) specification implemented in
SystemVerilog.</li>
</ul>
<p>Use these interfaces to deploy your IP on the Integrated FPGA Platform
or the Intel PAC with Arria 10 GX FPGA.</p>
</div>
<div class="section" id="ase-capabilities">
<h3>ASE Capabilities<a class="headerlink" href="#ase-capabilities" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The ASE provides a protocol checker to ensure protocol correctness.
The ASE also provides methods to identify potential issues early,
before in-system deployment.</li>
<li>The ASE can help identify certain lock conditions and Configuration
and Status Registers (CSR) address mapping and pointer math errors.</li>
<li>The ASE tracks memory requested from the accelerator. The memory
model immediately flags illegal memory transactions to locations
outside of requested memory spaces. Consequently, you can fix
incorrect memory accesses early, during the simulation phase.</li>
<li>The ASE does not guarantee that you can synthesize an AFU. After you
verify the AFU RTL functionality in the ASE, use the ASE and the
Intel Quartus® Prime Pro Edition software iteratively to generate the
Accelerator Function (AF).</li>
<li>The ASE provides a data hazard checker that identifies CCI-P traffic
patterns that may cause Write After Write (WAW), Read After Write
(RAW), and Write After Read (WAR) hazards. Debug these transactions
using a waveform viewer or avoid them by using a relevant <a class="reference external" href="https://github.com/OPAE/intel-fpga-bbb/wiki/BBB_cci_mpf">Memory
Properties
Factory</a>
(MPF) shim.</li>
<li>The ASE does not require administrator privileges. After installing
all the required tools, you can run the ASE on a plain vanilla user
Linux machine.</li>
</ul>
</div>
<div class="section" id="ase-limitations">
<h3>ASE Limitations<a class="headerlink" href="#ase-limitations" title="Permalink to this headline">¶</a></h3>
<p>When using ASE in the application development cycle, consider the
following limitations:</p>
<ul class="simple">
<li>The ASE is a transaction-level simulator. It does not model either
Intel UPI- or PCIe-specific packet structures and protocol layers.</li>
<li>The ASE does not simulate caching and is not a cache simulator. It
cannot reliably simulate cache collisions or capacity issues.</li>
<li>Although ASE models some latency parameters, it cannot model
real-time system-specific latency. It is also not an accurate timing
simulation of the design or latency and bandwidth of the real system.
The ASE models enable you to develop functionally correct
accelerators.</li>
<li>The ASE does not simulate multi-AFU or multi-socket configurations.</li>
</ul>
</div>
<div class="section" id="ase-based-afu-design-workflow">
<h3>ASE-Based AFU Design Workflow<a class="headerlink" href="#ase-based-afu-design-workflow" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="ASE-based" src="../../_images/workflow_rev1.PNG" />
</div>
<p>AFU development using the ASE includes the following four stages:</p>
<ol class="arabic simple">
<li>Learning/Training: Learn to use ASE and understand the interface
specifications and platform. Review sample code to get an
understanding of the CCI-P specification and OPAE API function calls.
Run samples in an ASE simulation.</li>
<li>Development Phase: Use the ASE to develop AFU RTL and software
application in a single workflow. Develop RTL from the specification
or by modifying existing sample RTL. The ASE includes a behavioral
model of the FPGA Interface Manager (FIM) IP that provides immediate
feedback on functionality during the development phase. The ASE flags
errors in CCI-P protocols, transactions, and memory accesses.
Consequently, you can fix these errors before moving to the
time-consuming bitstream generation phase.</li>
<li>Bitstream Generation: Once AFU RTL and software are functionally
correct, open the AFU RTL in the Intel Quartus Prime Pro Edition
software. Run the place and route (PAR) tools for your platform.</li>
</ol>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Use the Synthesis reports to correct problems in the AFU RTL. Then, return to the development phase and revalidate in ASE.</span>
<span class="go">Bitstream generation can take hours depending on design complexity, area, and so on. After successful bitstream generation,</span>
<span class="go">perform timing analysis to check for timing corners, setup and hold violations, clock closure, and so on. After correcting</span>
<span class="go">failures found during timing analysis, revalidate in the ASE environment. When the AFU is error-free, generate the Accelerator</span>
<span class="go">Function (AF) bitstream that represents the AFU.</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>In-system Deployment: Test the AF in system hardware. Use Signal Tap
to debug problems. Develop platform-specific software optimizations.</li>
</ol>
<div class="figure">
<img alt="Synthesize" src="../../_images/portability_rev1.PNG" />
</div>
<p>The AFU RTL code and OPAE software code you create in the ASE is
compatible with the Intel Quartus Prime PAR software if the following
two conditions are true: * The AFU RTL code is synthesizable. * The
AFU RTL code meets timing.</p>
<p>In the simulation environment, complete the following steps to create an
AF bitstream and program the hardware: 1. Compile the AFU RTL in either
the Synopsys VCS-MX or in the Mentor Graphics ModelSim-SE or QuestaSim
simulators. 2. Compile the software application for an ASE-specific
implementation of the OPAE API. 3. Synthesize the AFU RTL in the Intel
Quartus Prime Pro software to generate a bitstream. 4. Program the
hardware using this bitstream.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ASE only operates using the AFU RTL source code. It cannot take the AF bitstream as input.</p>
</div>
</div>
</div>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<p>The OPAE software release includes the ASE. The current OPAE ASE release
supports both Acceleration Stack for the Intel Xeon Processor with
Integrated FPGA and Acceleration Stack for the Intel PAC card.</p>
<p>The ASE is available only on 64-bit Linux operating systems with one of
the following simulators: * 64-bit Synopsys* RTL Simulator (minimum
version VCS-MX H2013.06-SP1) * 32 and 64-bit Mentor Graphics* Modelsim
SE Simulator (minimum version 10.5a) * 64-bit Mentor Graphics*
QuestaSim Simulator (minimum version 10.4d)</p>
<p>ASE performance is better on a 64-bit RTL simulator. Consult your RTL
simulator vendor for Synopsys or Mentor Graphics for specific simulation
requirements.</p>
<p>The ASE uses Inter-Process Communication (IPC) constructs. Under most
circumstances these constructs operate without glitches. The following
Linux locations should exist and be writeable. In most Linux
distributions, <code class="docutils literal"><span class="pre">/dev/shm</span></code> comes pre-mounted as a default option.</p>
<p>Here are the other ASE requirements:</p>
<ul>
<li><p class="first">C-Compiler: gcc 4.8.5 or above</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">* Boost Development libraries</span>
<span class="go">* UUID Development libraries</span>
<span class="go">* JSON Development libraries</span>
<span class="go">* Please see the dependencies of the OPAE System library build process</span>
</pre></div>
</div>
</li>
<li><p class="first">CMake: version 2.8.11 or above</p>
</li>
<li><p class="first">GLIBC: version 2.19 or above</p>
</li>
<li><p class="first">Python: version 2.7 or above</p>
</li>
<li><p class="first">Intel Quartus Prime Pro Edition: The ASE must find the
<code class="docutils literal"><span class="pre">$QUARTUS_HOME/eda/sim_lib/</span></code> directory. You specify this directory
during project definition in the Intel Quartus Prime Pro Edition
software.</p>
</li>
</ul>
<p>The ASE provides the <code class="docutils literal"><span class="pre">env_check.sh</span></code> bash script in the
<code class="docutils literal"><span class="pre">/sw/opae-x.x.x/ase/scripts</span></code> directory. Run this script to verify the
your installation.</p>
<p>Check the RTL simulator product information for supported operating
systems, installation notes, and other related information. The RTL
simulator must be able to perform the following functions:</p>
<ul class="simple">
<li>Compilation of the SystemVerilog Direct Programming Interface (DPI)
constructs</li>
<li>Compilation of the standard examples that are included in the
installation</li>
<li>Support for SystemC</li>
</ul>
</div>
<div class="section" id="package-description">
<h2>Package Description<a class="headerlink" href="#package-description" title="Permalink to this headline">¶</a></h2>
<p>Download the ASE as source or in RPM format.</p>
<p>The source directory tree is:</p>
<div class="code shell highlight-console"><div class="highlight"><pre><span></span><span class="go">OPAE_BASEDIR</span>
<span class="go">    |-- ase</span>
<span class="go">    |   |-- api</span>
<span class="go">    |   |   -- src</span>
<span class="go">    |   |-- in</span>
<span class="go">    |   |-- rtl</span>
<span class="go">    |   |   -- dcp_emif_model</span>
<span class="go">    |   |-- scripts</span>
<span class="go">    |   |-- sw</span>
<span class="go">    |</span>
<span class="go">    |-- cmake</span>
<span class="go">    |-- common</span>
<span class="go">    |   |-- include</span>
<span class="go">    |   |   |-- opae</span>
<span class="go">    |   |   |--safe_string</span>
<span class="go">    |</span>
<span class="go">    |-- doc</span>
<span class="go">    |-- libopae</span>
<span class="go">    |-- libopaecxx</span>
<span class="go">    |-- platforms</span>
<span class="go">    |-- pyopae</span>
<span class="go">    |-- safe_string</span>
<span class="go">    |-- samples</span>
<span class="go">    |-- scripts</span>
<span class="go">    |-- tools</span>
</pre></div>
</div>
<p>This directory tree shows the package structure of the ASE distribution.
The following directories implement and run the ASE simulator:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ase</span></code>: This is the ASE simulator implementation directory. It
contains the following subdirectories: * <code class="docutils literal"><span class="pre">api/src</span></code>: This directory
contains the OPAE Intel ASE implementation as a compiled library. You
can link statically or dynamically to this library. * <code class="docutils literal"><span class="pre">rtl</span></code>: This
directory contains the RTL components of the ASE. You can compile
this RTL for either platform. * <code class="docutils literal"><span class="pre">dcp_emif_model</span></code>: This is the
local DDR memory model for PAC card. Compile this model for PAC mode
simulations. * <code class="docutils literal"><span class="pre">scripts</span></code>: This directory contains several useful
scripts. Refer to the <a class="reference external" href="#ase-scripts">ASE Scripts</a> Section for more
information. * <code class="docutils literal"><span class="pre">sw</span></code>: This directory contains the software
components of the ASE. All simulations require the software
components. The GNU Compiler Collection (GCC) compiles these
components.</li>
<li><code class="docutils literal"><span class="pre">common</span></code>: This directory contains the OPAE library definitions. It
defines various macros for access to an FPGA in an OPAE context.</li>
<li><code class="docutils literal"><span class="pre">libopae</span></code>: This library is the Intel platform-specific
implementation of the OPAE API.</li>
<li><code class="docutils literal"><span class="pre">platforms</span></code>: This directory contains scripts and RTL to manage the
connection between a platform and the AFU top-level interface.</li>
<li><code class="docutils literal"><span class="pre">scripts</span></code>: This directory contains test build scripts.</li>
<li><code class="docutils literal"><span class="pre">tools</span></code>: This directory contains the FPGA tools including the
fpgadiag and fpgaconfig tools.</li>
</ul>
<div class="section" id="ase-scripts">
<h3>ASE Scripts<a class="headerlink" href="#ase-scripts" title="Permalink to this headline">¶</a></h3>
<p>The ASE distribution under the <code class="docutils literal"><span class="pre">ase/scripts</span></code> includes several scripts.
Use these scripts to initialize, set up, and clean an existing ASE
simulation environment.</p>
<div class="section" id="simulation-tool-set-up">
<h4>Simulation Tool Set Up<a class="headerlink" href="#simulation-tool-set-up" title="Permalink to this headline">¶</a></h4>
<p>Use <code class="docutils literal"><span class="pre">ase/scripts/ase_setup_template.sh</span></code> as a template script to set up
the required tools. This script has many empty placeholders for site-
and environment-specific information. Consult your Electronic Design
Automation (EDA) tools administrator, or the RTL simulator user guides
for help setting up the tools.</p>
</div>
<div class="section" id="ase-environment-check">
<h4>ASE Environment Check<a class="headerlink" href="#ase-environment-check" title="Permalink to this headline">¶</a></h4>
<p>This script checks the status of the OS distribution, distro, and
available system libraries. This check is a non-exhaustive. It looks for
only the most important dependencies, such as the GCC version, GLIBC
version, and so on.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ./ase/scripts/env_check.sh
</pre></div>
</div>
</div>
<div class="section" id="afu-simulation-using-the-ase">
<h4>AFU Simulation Using the ASE<a class="headerlink" href="#afu-simulation-using-the-ase" title="Permalink to this headline">¶</a></h4>
<p>Before configuring the ASE, follow the instructions for building the
OPAE SDK and ensure that either the OPAE installed <code class="docutils literal"><span class="pre">bin</span></code> or the OPAE
build tree <code class="docutils literal"><span class="pre">bin</span></code> directory is on your shell’s <code class="docutils literal"><span class="pre">PATH</span></code>.</p>
<p>To simulate an AFU, replicate the ASE source tree and add the
AFU-specific configuration. The OPAE installation includes several
scripts to accomplish this task. The primary script, <code class="docutils literal"><span class="pre">afu_sim_setup</span></code>,
is in the OPAE <code class="docutils literal"><span class="pre">bin</span></code> directory.</p>
<p>Refer to the <a class="reference external" href="#ase-example">ASE Example</a> section below for a sample
workload definition and execution flow.</p>
</div>
<div class="section" id="afu-sim-setup">
<h4>afu_sim_setup<a class="headerlink" href="#afu-sim-setup" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> script reads a file containing a list of RTL
sources (&lt;rtl_sources.txt&gt;) and configures a simulation environment for
the specified sources. The <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> command copies your base
ASE environment to the &lt;target dir&gt;.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> afu_sim_setup --sources<span class="o">=</span>&lt;rtl_sources.txt&gt; &lt;target dir&gt;
</pre></div>
</div>
<ul class="simple">
<li>The only required argument to the <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> command is the
directory for the new AFU environment. Here are the optional
arguments:</li>
<li><code class="docutils literal"><span class="pre">--help</span></code> The <code class="docutils literal"><span class="pre">help</span></code> argument lists all the arguments to
<code class="docutils literal"><span class="pre">afu_sim_setup</span></code>.</li>
<li><code class="docutils literal"><span class="pre">--platform</span></code>: The <code class="docutils literal"><span class="pre">platform</span></code>argument specifies any platform
defined in the platform database, including both the Integrated FPGA
Platform or the Intel PAC. This argument is generally not required
when a hardware platform release is installed. In that case, the
OPAE_PLATFORM_ROOT environment variable points to the hardware
release, which defines the platform.</li>
</ul>
<p><code class="docutils literal"><span class="pre">afu_sim_setup</span></code> is a wrapper for the following scripts. You can also
access both of these scripts directly:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">rtl_src_config</span></code>: This script transforms the list of RTL sources
into simulator configuration files.</li>
<li><code class="docutils literal"><span class="pre">generate_ase_environment.py</span></code>: This script instantiates your
simulated platform configuration.</li>
</ul>
</div>
<div class="section" id="rtl-src-config">
<h4>rtl_src_config<a class="headerlink" href="#rtl-src-config" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">/platforms/scripts/rtl_src_config</span></code> script maps a simple text file
containing a list of RTL source files to an ASE configuration file for
simulation or an Intel Quartus Prime Pro configuration file for
synthesis. <code class="docutils literal"><span class="pre">rtl_src_config</span></code> also defines preprocessor variables.
Source configuration files may be hierarchical, with one file including
another. <code class="docutils literal"><span class="pre">rtl_src_config</span></code> can construct ASE-based simulation trees or
Quartus build trees.</p>
<p>Run <code class="docutils literal"><span class="pre">rtl_src_config</span> <span class="pre">--help</span></code> for a list of options and the required
command syntax.</p>
</div>
<div class="section" id="generate-ase-environment-py">
<h4>generate_ase_environment.py<a class="headerlink" href="#generate-ase-environment-py" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">/ase/scripts/generate_ase_environment.py</span></code> generates platform
configuration files. <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> invokes it automatically. A
legacy mode in <code class="docutils literal"><span class="pre">generate_ase_environment.py</span></code> performs a brute-force
check of the specified AFU RTL directories, attempting to define a
compilation. This brute-force mode is imperfect and lists every file
ending in <code class="docutils literal"><span class="pre">.sv,</span> <span class="pre">.vs,</span> <span class="pre">.vhd,</span> <span class="pre">or</span> <span class="pre">.v</span></code> and directories separated by <code class="docutils literal"><span class="pre">+</span></code>.
It also may fail when compilation is order-dependent.</p>
<p>Run <code class="docutils literal"><span class="pre">generate_ase_environment.py</span> <span class="pre">--help</span></code> for a list of arguments.</p>
<ul class="simple">
<li>The script requires a directory path to your RTL AFU.</li>
<li><code class="docutils literal"><span class="pre">-t</span></code>: The default for the optional <code class="docutils literal"><span class="pre">-t</span></code> (tool) argument is
<code class="docutils literal"><span class="pre">VCS</span></code>. For Mentor tools, use the <code class="docutils literal"><span class="pre">QUESTA</span></code> option.</li>
<li><code class="docutils literal"><span class="pre">-p</span></code>: The default for the optional <code class="docutils literal"><span class="pre">-p</span></code> (platform) argument is
<code class="docutils literal"><span class="pre">intg_xeon</span></code> which stands for the Integrated FPGA Platform. Use
<code class="docutils literal"><span class="pre">discrete</span></code> for the Intel PAC.</li>
<li><code class="docutils literal"><span class="pre">-x</span></code>: The optional exclusions argument lists exclusions for path
searches.</li>
</ul>
<p>The Synopsys and Mentor Graphics RTL simulators generate the following
scripts.</p>
<ul class="simple">
<li>Synopsys: Creates <code class="docutils literal"><span class="pre">synopsys_sim.setup</span></code> and <code class="docutils literal"><span class="pre">vcs_run.tcl</span></code> in the
<code class="docutils literal"><span class="pre">VCS</span></code> configuration directory.</li>
<li>Mentor Graphics: Creates <code class="docutils literal"><span class="pre">vsim_run.tcl</span></code> in the <code class="docutils literal"><span class="pre">QUESTA</span></code>
configuration directory.</li>
</ul>
<p>The run-time simultation uses the <code class="docutils literal"><span class="pre">.tcl</span></code> files.</p>
<p>Details on generated files: * <code class="docutils literal"><span class="pre">vlog_files.list</span></code>: Lists all the
Verilog and SystemVerilog files found in the AFU directory path. *
<code class="docutils literal"><span class="pre">vhdl_files.list</span></code>: Lists all the VHDL files found in the AFU directory
path. * <code class="docutils literal"><span class="pre">ase_sources.mk</span></code>: Ties the above two files into
<code class="docutils literal"><span class="pre">DUT_VLOG_SRC_LIST</span></code> and <code class="docutils literal"><span class="pre">DUT_VHD_SRC_LIST</span></code> Makefile variables. *
<code class="docutils literal"><span class="pre">ASE_PLATFORM</span></code>: Sets the platform type to the default type or the type
you specify. * Set additional VCS or QUESTA options using the
<code class="docutils literal"><span class="pre">SNPS_{VLOGAN,VHDLAN,VCS}_OPT</span></code> or <code class="docutils literal"><span class="pre">MENT_{VLOG,VCOM,VSIM}_OPT</span></code>
options in the Makefile. Refer to <a class="reference external" href="#ase-makefile-variables">ASE Makefile
Variables</a> for more information.</p>
<p>The simulation files use absolute paths when possible. To improve
portability across users and groups, substitute environment variables in
the generated files that build and run the simulator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must manually check this file for correctness before using it in the simulation.</p>
</div>
</div>
<div class="section" id="cleaning-the-ase-environment">
<h4>Cleaning the ASE Environment<a class="headerlink" href="#cleaning-the-ase-environment" title="Permalink to this headline">¶</a></h4>
<p>Use the ASE cleanup script located in <code class="docutils literal"><span class="pre">scripts/ipc_clean.py</span></code> to kill
zombie simulation processes and temporary files left behind by failed
simulation processes or crashes.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ./ase/scripts/ipc_clean.py

<span class="gp">#</span><span class="c1">###########################################################</span>
<span class="gp">#</span>                                                          <span class="c1">#</span>
<span class="gp">#</span>                ASE IPC Cleanup script                    <span class="c1">#</span>
<span class="gp">#</span>                                                          <span class="c1">#</span>
<span class="gp">#</span><span class="c1">###########################################################</span>
<span class="go">IPC mounts seem to be readable... will attempt cleaning up IPC constructs by user &#39; user_foo &#39;</span>
<span class="go">Removing .ase_ready file ...</span>
<span class="go">Type &#39;y&#39; to clean up all zombie ase_simv processes : y</span>
<span class="go">Going ahead with cleaning up ASE processes opened by  user_foo</span>
<span class="gp">$</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ase-usage">
<h2>ASE Usage<a class="headerlink" href="#ase-usage" title="Permalink to this headline">¶</a></h2>
<p>The AFU ASE is a server-client simulation environment. The AFU RTL is
the server process. The software application compiled and linked to the
OPAE ASE library is the client process. Communication between server and
client uses named pipes. The ASE abstracts most of the simulation
infrastructure. You do not need to modify it.</p>
<div class="figure">
<img alt="ASE" src="../../_images/ase_server_client_process_rev2.PNG" />
</div>
<ul class="simple">
<li><strong>Server Process</strong>: * The server process interfaces to 3rd-Party RTL
Simulator packages. The server process currently supports Mentor
Modelsim-SE* Questasim* and Synopsys CS-MX* via the
SystemVerilog-DPI library and simulator software interface. * Named
pipes implement communication to the client. Named pipes also
implement control, status and session management. The server process
includes a pipe event monitoring engine. * SystemVerilog manages the
CCI-P interface. All CCI-P events are logged and time stamped. * The
server also includes a CCI-P protocol checker that checks CCI-P
transactions originating in the AFU. This checker identifies CCI-P
protocol issues, hazards, race conditions, and so on. * The buffer
allocation calls map to POSIX Shared Memory (<code class="docutils literal"><span class="pre">/dev/shm</span></code>). The
server-client processes share information about these buffers using
named pipes.</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">The Physical addresses generated in ASE are not realistic and are not replicable in-system.</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Client Process</strong>: * The client implements an OPAE interface and a
library to access the ASE platform functionality including MMIO,
Buffer management, and session control. The features available depend
on the platform you specify at build time. These functions are
available using the OPAE API. * The client process also provides a
physical memory model that simulates the RTL AFU access to physical
addresses. The physical memory model simulates address translation
from virtual addresses to physical addresses. * A compiled program
compiles and links to the ASE implementation of OPAE library. All
OPAE calls route to ASE instead of the OPAE platform driver.</li>
</ul>
<p>Separate build scripts build the server and client processes.</p>
<ul class="simple">
<li>Server: A makefile in the <code class="docutils literal"><span class="pre">ase</span></code> directory compiles the ASE server
process, containing the ASE Software, SystemVerilog engines and the
AFU RTL logic code.</li>
<li>Client: The main <code class="docutils literal"><span class="pre">cmake</span></code> script in the root of the distribution
builds the OPAE library implementations for the System and ASE. The
cmake script installs the library in the <code class="docutils literal"><span class="pre">lib</span></code> directory.</li>
</ul>
<div class="section" id="afu-build-instructions">
<h3>AFU Build Instructions<a class="headerlink" href="#afu-build-instructions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ase-application-client-build-instructions">
<h4>ASE Application (Client) Build Instructions<a class="headerlink" href="#ase-application-client-build-instructions" title="Permalink to this headline">¶</a></h4>
<p>Follow these instructions if you are building the OPAE SDK from a source
tar file. Otherwise go directly to the Application build step.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In these instructions, the directory <code class="docutils literal"><span class="pre">/tmp/opae/</span></code> is the base directory where you install the OPAE API software
distribution. The <code class="docutils literal"><span class="pre">/tmp</span></code> prefix may point to any system or user directory.</p>
<p class="last">The ASE Source directory points to <code class="docutils literal"><span class="pre">/tmp/opae/ase/</span></code></p>
</div>
<ul class="simple">
<li>To build the OPAE libraries:</li>
</ul>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Change directory to the opae directory
<span class="gp">$</span> <span class="nb">cd</span> /tmp/opae/

<span class="gp">#</span> Check contents
<span class="gp">$</span> ls
<span class="go">ase cmake common doc libopae platforms safe_string samples scripts tools AUTHORS CMakeLists.txt COPYING</span>
<span class="go">README RELEASE_NOTES</span>

<span class="gp">#</span> Create an out-of-build directory, and change to it
<span class="gp">$</span> mkdir mybuild
<span class="gp">$</span> <span class="nb">cd</span> mybuild

<span class="gp">#</span> Configure the software build using cmake <span class="o">(</span>see options<span class="o">)</span>
<span class="gp">#</span> $ cmake &lt;Path to CMakeLists.txt&gt;
<span class="gp">#</span> Install directory, in this example it is &lt;Path  to opae&gt;/myinst/

<span class="gp">$</span> cmake ../ -DOPAE_BUILD_SIM<span class="o">=</span>YES -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/tmp/opae/myinst/
<span class="go">-- The C compiler identification is GNU 4.8.4</span>
<span class="go">-- The CXX compiler identification is GNU 4.8.4</span>
<span class="go">-- Check for working C compiler: /usr/bin/cc</span>
<span class="go">-- Check for working C compiler: /usr/bin/cc -- works</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">-- Configuring done</span>
<span class="go">-- Generating done</span>
<span class="go">-- Build files have been written to: /tmp/opae/mybuild</span>

<span class="gp">#</span> Build and install libraries
<span class="gp">$</span> make
<span class="gp">$</span> make install

<span class="gp">#</span> The environment Variable PATH should point to /myinst/bin
<span class="gp">#</span> Check library install paths
<span class="gp">$</span> <span class="nb">cd</span> /tmp/opae/myinst/
<span class="gp">$</span> ls
<span class="go">doc  include  lib</span>

<span class="gp">$</span> ls lib
<span class="go">libopae-c-ase.so  libopae-c.so  libopae-c.so.0  libopae-c.so.0.1.0 ...</span>
</pre></div>
</div>
<p>Build the software application for the ASE using <code class="docutils literal"><span class="pre">libopae-c-ase.so</span></code>
and the <code class="docutils literal"><span class="pre">gcc</span></code> command. You can build the software application using
one of the following three methods:</p>
<div class="section" id="dynamically-linking-libopae-c-ase-so">
<h5>Dynamically Linking libopae-c-ase.so<a class="headerlink" href="#dynamically-linking-libopae-c-ase-so" title="Permalink to this headline">¶</a></h5>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Change directory to &lt;Path to Directory&gt;/opae/samples/
<span class="gp">#</span>   The UUID code requires the -luuid argument
<span class="gp">#</span>   Linking to the  ASE library requires the  -lopae-c-ase argument
<span class="gp">#</span>
<span class="gp">$</span> gcc -g -o hello_fpga hello_fpga.c -L /tmp/opae/myinst/lib/ -I /tmp/opae/myinst/include/ -luuid -lpthread -lopae-c-ase -std<span class="o">=</span>c99

<span class="gp">#</span> When running the application be sure the relevant LD_LIBRARY_PATH variable is <span class="nb">set</span>
<span class="gp">$</span> ./hello_fpga
</pre></div>
</div>
</div>
<div class="section" id="dynamically-linking-to-the-system-library-and-then-overriding-it">
<h5>Dynamically Linking to the System Library and then Overriding It<a class="headerlink" href="#dynamically-linking-to-the-system-library-and-then-overriding-it" title="Permalink to this headline">¶</a></h5>
<p>The ASE implementation of the OPAE library simulates system behavior.
Consequently, the application may also link dynamically to the System
library, <code class="docutils literal"><span class="pre">libopae-c.so</span></code> and <code class="docutils literal"><span class="pre">libopae-c-ase.so</span></code>, and then override
the system library with the <code class="docutils literal"><span class="pre">LD_PRELOAD</span></code> environment.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Change directory to &lt;Path to Directory&gt;/opae/samples/
<span class="gp">#</span>   The UUID code requires the -luuid argument
<span class="gp">#</span>   Linking to the  ASE library requires the  -lopae-c-ase argument
<span class="gp">#</span>
<span class="gp">$</span> gcc -g -o hello_fpga hello_fpga.c -L /tmp/opae/myinst/lib/ -I /tmp/opae/myinst/include/ -luuid -lpthread -lopae-c -std<span class="o">=</span>c99

<span class="gp">#</span> When running the application be sure the relevant LD_LIBRARY_PATH variable is <span class="nb">set</span>
<span class="gp">#</span> You must also <span class="nb">set</span> the ASE_WORKDIR environment variable
<span class="gp">$</span> <span class="nv">LD_PRELOAD</span><span class="o">=</span>libopae-c-ase.so ./hello_fpga
</pre></div>
</div>
</div>
<div class="section" id="compiling-the-libopae-c-ase-so-library-with-the-opae-software-application">
<h5>Compiling the libopae-c-ase.so Library with the OPAE Software Application<a class="headerlink" href="#compiling-the-libopae-c-ase-so-library-with-the-opae-software-application" title="Permalink to this headline">¶</a></h5>
<p>Use the OPAE ASE library implementation and compile it to the OPAE
software application directly in one command using GCC.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">  #</span> Compile <span class="nb">command</span>
<span class="gp">  $</span> gcc -g -o hello_fpga_ase hello_fpga.c /tmp/opae/myinst/lib/libopae-c-ase.so -I /tmp/opae/myinst/include/ -std<span class="o">=</span>c99 -luuid

<span class="gp">#</span> When running the application, start the simulator, <span class="k">then</span> <span class="nb">set</span> LD_LIBRARY_PATH and ASE_WORKDIR
<span class="gp">$</span> ./hello_fpga_ase
</pre></div>
</div>
</div>
</div>
<div class="section" id="ase-simulator-server-build-instructions">
<h4>ASE Simulator (Server) Build Instructions<a class="headerlink" href="#ase-simulator-server-build-instructions" title="Permalink to this headline">¶</a></h4>
<p>ASE uses a platform differentiation key in the simulator Makefile to
enable different platform features and produces a simulator
configuration based on the differentiation key. These keys are set
automatically by <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> and <code class="docutils literal"><span class="pre">generate_ase_environment.py</span></code>.</p>
<p>You must note the following required build configurations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="34%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Configuration</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_PLATFORM</span></code></td>
<td>This is the platform
differentiator. It
must be set in
<code class="docutils literal"><span class="pre">ase_sources.mk</span></code> to
point to the required
simulator features.
<code class="docutils literal"><span class="pre">FPGA_PLATFORM_INT</span>
<span class="pre">G_XEON</span></code>
and
<code class="docutils literal"><span class="pre">FPGA_PLATFORM_DISCR</span>
<span class="pre">ETE</span></code>
are the only legal
values.</td>
<td><code class="docutils literal"><span class="pre">FPGA_PLATFOR</span>
<span class="pre">M_INTG_XEON</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">SIMULATOR</span></code></td>
<td>This must be set in
<code class="docutils literal"><span class="pre">ase_sources.mk</span></code> to
point to the correct
RTL simulator.
<code class="docutils literal"><span class="pre">VCS</span></code> and
<code class="docutils literal"><span class="pre">QUESTA</span></code> are the
only legal values.</td>
<td><code class="docutils literal"><span class="pre">VCS</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DUT_VLOG_SRC_LIST</span></code>,
<code class="docutils literal"><span class="pre">DUT_VHDL_SRC_LIST</span></code>, and
<code class="docutils literal"><span class="pre">DUT_INCDIR</span></code></td>
<td>These options point
to AFU Verilog, VHDL
and include path
settings required for
RTL simulators to
build the simulation
model correctly.</td>
<td>None supplied
— You must
specify this.</td>
</tr>
</tbody>
</table>
<p>For more information on other switches, refer to <a class="reference external" href="#ase-makefile-targets">ASE Makefile
targets</a></p>
<p>Use the <code class="docutils literal"><span class="pre">scripts/generate_ase_environment.py</span></code> script to generate the
AFU-specific files for the simulator build. This script is not
infallible and requires manual inspection of generated configurations to
achieve correct results.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Edit <cite>ase_sources.mk</cite> to add AFU RTL-specific define macros or include paths.</p>
</div>
<p>You may use the <a class="reference external" href="#generate_ase_environment.py">Generate ASE
Environment</a> script to generate the
required AFU <code class="docutils literal"><span class="pre">ase_sources.mk</span></code> and <code class="docutils literal"><span class="pre">vlog_files.list</span></code> files.</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> change to ASE directory
<span class="gp">$</span> <span class="nb">cd</span> /tmp/opae/ase/

<span class="gp">#</span> Use the scripts/generate_ase_environment.py
<span class="gp">$</span> ./scripts/generate_ase_environment.py -t VCS -p discrete &lt;Path to sample RTL&gt;
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="gp">#</span> Edit files as needed.

<span class="gp">$</span> ls
<span class="go">ase_sources.mk  vcs_run.tcl  synopsys_sim.setup  vlog_files.list  ...</span>
</pre></div>
</div>
<p>You may need to check <code class="docutils literal"><span class="pre">vlog_files.list</span></code> and <code class="docutils literal"><span class="pre">ase_sources.mk</span></code> files
for correctness. Now, build the simulator with a ‘make’ command.</p>
<div class="code shell highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;opae&gt;/ase/
<span class="gp">$</span> make
<span class="go">.</span>
<span class="go">.</span>

<span class="gp">$</span> ls work/ase_simv
<span class="go">work/ase_simv</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ase-runtime-instructions">
<h3>ASE Runtime Instructions<a class="headerlink" href="#ase-runtime-instructions" title="Permalink to this headline">¶</a></h3>
<p>The ASE server-client simulator makes the server before the client. Here
are the run-time options:</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> make sim <span class="se">\</span>
    <span class="o">[</span><span class="nv">SIMULATOR</span><span class="o">=</span>&lt;VCS<span class="p">|</span>QUESTA&gt;<span class="o">]</span> <span class="se">\</span>
    <span class="o">[</span><span class="nv">ASE_CONFIG</span><span class="o">=</span>&lt;Path to ase.cfg&gt;<span class="o">]</span> <span class="se">\</span>
    <span class="o">[</span><span class="nv">ASE_SCRIPT</span><span class="o">=</span>&lt;Path to ase_regress.sh <span class="k">if</span> <span class="nv">ASE_MODE</span><span class="o">=</span><span class="m">4</span>&gt;<span class="o">]</span>
</pre></div>
</div>
<p>Use two terminal windows to start the simulation.</p>
<ul class="simple">
<li>Terminal 1: Runs <code class="docutils literal"><span class="pre">make</span> <span class="pre">sim</span></code>. The ASE initializes and the AFU issues
a reset and then waits for incoming transactions. The software
application must wait until the “Ready for Simulation” message
displays.</li>
</ul>
<p>Specify the environment variable <code class="docutils literal"><span class="pre">ASE_WORKDIR</span></code> Terminal 1.</p>
<div class="code shell highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Invoke the simulator
<span class="gp">$</span> make sim
<span class="go">SIMULATOR=VCS</span>
<span class="go">CC=gcc</span>
<span class="gp">#</span><span class="c1">################################################################</span>
<span class="gp">#</span>                                                               <span class="c1">#</span>
<span class="gp">#</span>             OPAE Intel<span class="o">(</span>R<span class="o">)</span> Xeon<span class="o">(</span>R<span class="o">)</span> + FPGA Library              <span class="c1">#</span>
<span class="gp">#</span>               AFU Simulation Environment <span class="o">(</span>ASE<span class="o">)</span>                <span class="c1">#</span>
<span class="gp">#</span>                                                               <span class="c1">#</span>
<span class="gp">#</span><span class="c1">################################################################</span>
<span class="go">ASE platform set to MCP_SKYLAKE mode</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">SIM-SV: Transaction Logger started</span>
<span class="go">SIM-SV: Simulator started...</span>
<span class="go">SIM-C : +CONFIG /tmp/opae/ase/ase.cfg file found !</span>
<span class="go">SIM-C : +SCRIPT /tmp/opae/ase/ase_regress.sh file found !</span>
<span class="go">SIM-C : PID of simulator is 41819</span>
<span class="go">SIM-C : Reading /tmp/opae/ase/ase.cfg configuration file</span>
<span class="go">SIM-C : ASE was started in Mode 1 (Server-Client without SIMKILL)</span>
<span class="go">        ASE mode                   ... Server-Client mode without SIMKILL</span>
<span class="go">        Inactivity kill-switch     ... DISABLED</span>
<span class="go">        Reuse simulation seed      ... ENABLED</span>
<span class="go">        ASE Seed                   ... 1234</span>
<span class="go">        ASE Transaction view       ... ENABLED</span>
<span class="go">        User Clock Frequency       ... 312.500000 MHz, T_uclk = 3200 ps</span>
<span class="go">        Amount of physical memory  ... 128 GB</span>

<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">SIM-C : ** ATTENTION : BEFORE running the software application **</span>
<span class="go">    Set env(ASE_WORKDIR) in the terminal where application will run (copy-and-paste) =&gt;</span>
<span class="gp">    $</span>SHELL   <span class="p">|</span> Run:
<span class="go">    ---------|---------------------------------------------------</span>
<span class="go">    bash/zsh | export ASE_WORKDIR=/tmp/opae/ase/work</span>
<span class="go">    tcsh/csh | setenv ASE_WORKDIR /tmp/opae/ase/work</span>
<span class="go">    For any other $SHELL, consult your Linux administrator</span>

<span class="go">    SIM-C : Ready for simulation...</span>
<span class="go">    SIM-C : Press CTRL-C to close simulator...</span>
</pre></div>
</div>
<p>You can close Terminal 1 <code class="docutils literal"><span class="pre">make</span> <span class="pre">sim</span></code>by issuing a <code class="docutils literal"><span class="pre">SIGTERM</span></code> to the
relevant <code class="docutils literal"><span class="pre">ase_simv</span></code> process or by typing <code class="docutils literal"><span class="pre">CTRL-C</span></code>.</p>
<ul class="simple">
<li>Terminal: First set the environment variable <code class="docutils literal"><span class="pre">ASE_WORKDIR</span></code> as
specified in Terminal 1. In this example <code class="docutils literal"><span class="pre">ASE_WORKDIR</span></code> is set to
<code class="docutils literal"><span class="pre">/tmp/opae/ase/work</span></code>. Then, start the software application.</li>
</ul>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Set ASE_WORKDIR environment variable
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">ASE_WORKDIR</span><span class="o">=</span>/tmp/opae/ase/work/

<span class="gp">#</span> Run the application
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/tmp/opae/myinst/lib/
<span class="gp">$</span> <span class="nv">LD_PRELOAD</span><span class="o">=</span>libopae-c-ase.so ./hello_fpga
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After the application exits, the simulation is complete. Close the simulator to allow the waveform dump
process to complete. In Terminal 1, type the <code class="docutils literal"><span class="pre">CTRL-C</span></code> command.</p>
</div>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="go">&lt;Simulator running&gt;</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">SIM-C : Ready to run next test</span>
<span class="go">818602500C0Tx AlmFull toggled from 1 to 0</span>

<span class="go">818602500C1Tx AlmFull toggled from 1 to 0</span>

<span class="go">&lt;CTRL-C Key hit&gt;</span>

<span class="go">^CSIM-C : Closing message queue and unlinking...</span>
<span class="go">SIM-C : Unlinking Shared memory regions....</span>
<span class="go">SIM-C : Session code file removed</span>
<span class="go">SIM-C : Removing message queues and buffer handles ...</span>
<span class="go">SIM-C : Cleaning session files...</span>
<span class="go">SIM-C : Simulation generated log files</span>
<span class="go">    Transactions file       | $ASE_WORKDIR/ccip_transactions.tsv</span>
<span class="go">    Workspaces info         | $ASE_WORKDIR/workspace_info.log</span>
<span class="go">    ASE seed                | $ASE_WORKDIR/ase_seed.txt</span>

<span class="go">SIM-C : Tests run     =&gt; 1</span>
<span class="go">SIM-C : Sending kill command...</span>
<span class="go">SIM-SV: Simulation kill command received...</span>

<span class="go">Transaction count |       VA      VL0      VH0      VH1 |    MCL-1    MCL-2    MCL-4</span>
<span class="go">========================================================================================</span>
<span class="go">MMIOWrReq           9 |</span>
<span class="go">MMIORdReq           2 |</span>
<span class="go">MMIORdRsp           2 |</span>
<span class="go">UMsgHint            0 |</span>
<span class="go">UMsgData            0 |</span>
<span class="go">RdReq           16384 |        0        0    16384        0 |    16384        0        0</span>
<span class="go">RdResp          16384 |        0        0    16384        0 |</span>
<span class="go">WrReq           16385 |        0        0    16385        0 |    16385        0        0</span>
<span class="go">WrResp          16385 |        0        0    16385        0 |    16385        0        0</span>
<span class="go">WrFence             1 |        0        0        1        0 |</span>
<span class="go">WrFenRsp            1 |        0        0        1        0 |</span>

<span class="gp">$</span>finish called from file <span class="s2">&quot;/tmp/opae/ase/rtl/ccip_emulator.sv&quot;</span>, line <span class="m">2657</span>.
<span class="gp">$</span>finish at simulation <span class="nb">time</span>           <span class="m">1514962500</span>
<span class="go">V C S   S i m u l a t i o n   R e p o r t</span>
<span class="go">Time: 1514962500 ps</span>
<span class="go">CPU Time:    142.500 seconds;       Data structure size:   1.1Mb</span>
<span class="go">Tue Jun 20 13:29:13 2017</span>
</pre></div>
</div>
<p>Upon completion, the simulation generates the following files:</p>
<ul>
<li><p class="first">Waveform dump: <code class="docutils literal"><span class="pre">make</span> <span class="pre">wave</span></code> opens the waveform for the selected
tool.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">* ```inter.vpd```: VCS Waveform file</span>
<span class="go">* ```vsim.wlf```: Mentor/Questa waveform file.</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$ASE_WORKDIR/ccip_transactions.tsv</span></code>: CCI-P Events log listing all
events observed on the CCI-P interface. The timestamps indicate the
corresponding time interval in the waveform dump VPD file.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$ASE_WORKDIR/workspace_info.log</span></code>: Information about buffers the
simulation opened.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$ASE_WORKDIR/ase_seed.txt</span></code>: Information about the simulation seed.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$ASE_WORKDIR/ccip_warnings_and_errors.txt</span></code>: Information about
CCI-P warnings and errors.</p>
</li>
</ul>
</div>
<div class="section" id="recommendations">
<h3>Recommendations<a class="headerlink" href="#recommendations" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>The ASE <code class="docutils literal"><span class="pre">ccip_logger.sv</span></code> module logs CCI-P events for designs that
use the CCI-P protocol. This module allows you to compare
transactions and traffic flow through the CCI-P interfaces.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use a different file name for each instantiation of the of the <code class="docutils literal"><span class="pre">ccip_logger</span></code>.</p>
</div>
<div class="figure">
<img alt="ASE" src="../../_images/ccip_logger_reuse_rev1.PNG" />
</div>
<ol class="arabic simple" start="2">
<li>The ASE shutdowns simulations gracefully, closing all mutexes, locks,
POSIX structures safely before exiting via the <code class="docutils literal"><span class="pre">$finish</span></code> statement
in SystemVerilog. If your AFU design uses <code class="docutils literal"><span class="pre">$error</span></code> or <code class="docutils literal"><span class="pre">$finish</span></code>
to identify error conditions while simulating, consider using the
handle <code class="docutils literal"><span class="pre">start_simkill_countdown()</span></code> instead.
<code class="docutils literal"><span class="pre">start_simkill_countdown()</span></code> calls <code class="docutils literal"><span class="pre">$finish</span></code> after completing the
steps for a graceful shutdown.</li>
<li>You can script ASE simulations. When the simulator is ready for use,
the simulation writes a lock file, <code class="docutils literal"><span class="pre">$ASE_WORKDIR/.ase_ready</span></code>, to
the work directory.</li>
</ol>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> Start Simulator in background
<span class="go">make sim &amp;</span>

<span class="gp">#</span> Wait <span class="k">for</span> simulator readiness
<span class="gp">#</span> When .ase_ready is available in the <span class="nv">$ASE_WORKDIR</span>, the ASE is ready <span class="k">for</span> simulation
<span class="go">while [ ! -f $ASE_WORKDIR/.ase_ready.pid ]</span>
<span class="go">do</span>
<span class="go">    sleep 1</span>
<span class="go">done</span>

<span class="gp">#</span> Start application
<span class="go">cd $PATH_TO_APPLICATION</span>

<span class="gp">#</span> Export ASE_WORKDIR variable
<span class="go">export ASE_WORKDIR={Path to simulator mentioned in ASE green printout}</span>
<span class="go">./Application</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>To reduce simulation time, make the following changes to the default
simulation settings:<ul>
<li>Turn OFF wave dumps: Check your RTL vendor’s recommendation on
switching off wave form dumps. In some cases, is possible to
generate wave dumps for specific module hierarchies.</li>
<li>Turn OFF display messages by setting <code class="docutils literal"><span class="pre">ENABLE_CL_VIEW</span> <span class="pre">=</span> <span class="pre">0</span></code> in
<code class="docutils literal"><span class="pre">ase.cfg</span></code>.</li>
</ul>
</li>
<li>To generate random CCI-P transactions for every run, modify the ASE
latency model, <code class="docutils literal"><span class="pre">$ASE_SRCDIR/rtl/platform.vh</span></code>. The <code class="docutils literal"><span class="pre">*_LATRANGE</span></code>
constraint defines a min/max pair:</li>
</ol>
<div class="code verilog highlight-console"><div class="highlight"><pre><span></span><span class="go">`define X_LATRANGE     min, max</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">min</span></code> and <code class="docutils literal"><span class="pre">max</span></code> values are the minimum and maximum cycle counts
for responses returning to the AFU. Simulation assigns transactions a
random latency in the (min, max) range. The larger the difference
between (min, max), the larger the standard deviation of latency for a
given type of transaction. You can specify different (min, max) values
for different transaction types.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The latency values specified for simulation are for testing only. They may not accurately represent the real
latencies of your system hardware.</p>
</div>
<div class="code verilog highlight-console"><div class="highlight"><pre><span></span><span class="go">/*</span>
<span class="go"> * Latency model</span>
<span class="go"> * Coded as a Min,Max tuple</span>
<span class="go"> * -------------------------------------------------------</span>
<span class="go"> * RDLINE_LATRANGE : ReadLine turnaround time</span>
<span class="go"> * WRLINE_LATRANGE : WriteLine turnaround time</span>
<span class="go"> * UMSG_LATRANGE   : UMsg latency</span>
<span class="go"> * INTR_LATRANGE   : Interrupt turnaround time</span>
<span class="go"> *</span>
<span class="go"> * LAT_UNDEFINED   : Undefined latency</span>
<span class="go"> *</span>
<span class="go"> */</span>
<span class="go">`define MMIO_LATENCY                15</span>
<span class="go">`define RDLINE_S_LATRANGE          20,118</span>
<span class="go">`define RDLINE_I_LATRANGE          20,118</span>
<span class="go">`define WRLINE_M_LATRANGE          20,118</span>
<span class="go">`define WRLINE_I_LATRANGE          20,118</span>
<span class="go">`define UMSG_START2HINT_LATRANGE   39,41</span>
<span class="go">`define UMSG_HINT2DATA_LATRANGE    41,45</span>
<span class="go">`define UMSG_START2DATA_LATRANGE   82,85</span>
<span class="go">`define INTR_LATRANGE              10,15</span>

<span class="go">`define LAT_UNDEFINED              300</span>

<span class="go">`define RDWR_VL_LATRANGE           20,118</span>
<span class="go">`define RDWR_VH_LATRANGE           140,180</span>

<span class="go">`define ASE_MAX_LATENCY            300</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>The ASE includes a CCI-P protocol checker,
<code class="docutils literal"><span class="pre">$ASE_SRCDIR/rtl/ccip_checker.sv</span></code>. Use this module to verify CCI-P
compliance. The checker sniffs transactions, conditions and header
settings and flags warnings or errors. Identify multiple issue
classes in the <code class="docutils literal"><span class="pre">hw/ccip_sniffer.sv</span></code>. The ASE logs all warnings and
errors in <code class="docutils literal"><span class="pre">$ASE_WORKDIR/ccip_warnings_and_errors.txt</span></code>.</li>
</ol>
<div class="figure">
<img alt="ASE" src="../../_images/ase_error_example.png" />
</div>
<ul class="simple">
<li>Memory errors in transactions: Memory errors have the highest
severity. The simulation stops immediately. The ASE logs memory
errors, including timestamps, in
<code class="docutils literal"><span class="pre">$ASE_WORKDIR/ase_memory_error.log</span></code>.</li>
<li>Protocol warnings: Warnings do not stop the simulation. The ASE logs
warnings in <code class="docutils literal"><span class="pre">$ASE_WORKDIR/ccip_warning_and_errors.txt</span></code>.</li>
<li>The ASE may also log memory hazards (RAW, WAR and WAW hazards).</li>
</ul>
</div>
</div>
<div class="section" id="ase-example">
<h2>ASE Example<a class="headerlink" href="#ase-example" title="Permalink to this headline">¶</a></h2>
<p>A tutorial for CCI-P systems is available in a separate <a class="reference external" href="https://github.com/OPAE/intel-fpga-bbb">Basic Building
Blocks repository</a> in the
<a class="reference external" href="https://github.com/OPAE/intel-fpga-bbb/tree/master/samples/tutorial">samples/tutorial</a>
tree. The first example,
<a class="reference external" href="https://github.com/OPAE/intel-fpga-bbb/tree/master/samples/tutorial/01_hello_world">01_hello_world</a>
follows the <code class="docutils literal"><span class="pre">afu_sim_setup</span></code> flow described above. Start with the
tutorial’s
<a class="reference external" href="https://github.com/OPAE/intel-fpga-bbb/blob/master/samples/tutorial/README">README</a>
file for configuration and execution instructions. The example defines a
set of sources and walks through the process of creating an ASE tree,
running the simulator and connecting it to a host program.</p>
<!-- ### Using Basic Building Blocks (BBB) in ASE ### --><!-- #### Using CCI-P Asynchronous Shim in ASE #### --><!-- #### Using Memory Protocol Factory (MPF) in ASE #### --></div>
<div class="section" id="operation-reference">
<h2>Operation Reference<a class="headerlink" href="#operation-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ase-simulator-makefile-switches">
<h3>ASE Simulator Makefile Switches<a class="headerlink" href="#ase-simulator-makefile-switches" title="Permalink to this headline">¶</a></h3>
<p>The ASE Makefile template comprises many targets and switches. Build
your own compilation script for more complex simulations.</p>
<p>For a complete listing including the versions supported, see <a class="reference external" href="#system-requirements">System
Requirements</a> section.</p>
<div class="section" id="ase-makefile-build-flow">
<h4>ASE Makefile Build Flow<a class="headerlink" href="#ase-makefile-build-flow" title="Permalink to this headline">¶</a></h4>
<p>Complete the following steps to compile ASE Simulator:</p>
<ol class="arabic simple">
<li>Compile Software objects of ASE into a library file *First compile
the Software components located in the <code class="docutils literal"><span class="pre">ase/sw/</span></code> directory into a
software library.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Define <code class="docutils literal"><span class="pre">SIM_SIDE</span></code> as a compilation macro when compiling the ASE simulator objects. The <code class="docutils literal"><span class="pre">SIM_SIDE</span></code>
switch is for simulation software, not the OPAE ASE software library.</p>
</div>
<ol class="arabic simple" start="2">
<li>Compile The ASE SystemVerilog files located in the <code class="docutils literal"><span class="pre">ase/rtl/</span></code>
directory. Compile ASE RTL the platform components for the Integrated
FPGA Platform or the Intel PAC into the simulation databases. For the
PAC, compile the embedded memory interface (EMIF) Memory controller
model into the ASE environment. If the simulation requires the Intel
FPGA Gate libraries, compile the models into the ASE environment.</li>
<li>Compile AFU components into the ASE environment. Use the RTL
simulator software tools to compile the AFU components. Use Synopsys
or Mentor utilities to compile VHDL or SystemVerilog components.</li>
</ol>
</div>
<div class="section" id="ase-makefile-targets">
<h4>ASE Makefile Targets<a class="headerlink" href="#ase-makefile-targets" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="61%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Target</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">all</span></code></td>
<td>Default build target,
builds a simulator in
Synopsys VCS-MX</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">header</span></code></td>
<td>Print version and
preamble</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">check</span></code></td>
<td>Environment check</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sw_build</span></code></td>
<td>Build <code class="docutils literal"><span class="pre">ase/sw/</span></code>
components into a
software library. The
<code class="docutils literal"><span class="pre">SIM_SIDE</span></code> switch
builds the simulator
software components</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">help</span></code></td>
<td>Print help information</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">vcs_build</span></code></td>
<td>Synopsys VCS-MX template
build flow</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">questa_build</span></code></td>
<td>Mentor Graphics
Modelsim-SE/QuestaSim
template build flow</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sim</span></code></td>
<td>Start the ASE Simulator</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">wave</span></code></td>
<td>Open selected RTL
waveform viewer</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">clean</span></code></td>
<td>Clean build, simulation,
and log files</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">distclean</span></code></td>
<td>Clean distribution -
removes the AFU
configuration files</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ase-makefile-variables">
<h4>ASE Makefile Variables<a class="headerlink" href="#ase-makefile-variables" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="26%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Makefile target</th>
<th class="head">Description</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VCS_HOME</span></code></td>
<td>Synopsys VCS-MX
installation
path</td>
<td>Installation tool
specific</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">MTI_HOME</span></code></td>
<td>Mentor
installation
path</td>
<td>Installation tool
specific</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">QUARTUS_HOME</span></code></td>
<td>Intel Quartus
Prime Pro
installation
path</td>
<td>Installation tool
specific</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_PLATFORM</span></code></td>
<td>Platform
selection
switch: Specify
either
tightly-coupled
FPGA or
programmable
FPGA
acceleration
card using
<code class="docutils literal"><span class="pre">FPGA_PLATFORM_</span>
<span class="pre">INTG_XEON</span></code>
and
<code class="docutils literal"><span class="pre">FPGA_PLATFORM_</span>
<span class="pre">DISCRETE</span></code>,
respectively</td>
<td><code class="docutils literal"><span class="pre">FPGA_PLATFORM_INT</span>
<span class="pre">G_XEON</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">SIMULATOR</span></code></td>
<td>Simulator Key to
environment
Defined values
<code class="docutils literal"><span class="pre">VCS</span></code> or
<code class="docutils literal"><span class="pre">QUESTA</span></code></td>
<td><code class="docutils literal"><span class="pre">VCS</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_SRCDIR</span></code></td>
<td>ASE source
location</td>
<td>Current source path</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_WORKDIR</span></code></td>
<td>Location where
ASE runs,
usually
<code class="docutils literal"><span class="pre">$ASE_SRCDIR/wo</span>
<span class="pre">rk</span></code></td>
<td>Environment-specifi
c
execution path</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">WORK</span></code></td>
<td>Simulation
library
compilation
location</td>
<td><code class="docutils literal"><span class="pre">work</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_DISABLE_LOGGER</span></code></td>
<td>Switch to
disable logger
build</td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_DISABLE_CHECKER</span></code></td>
<td>Switch to
disable checker
build WARNING:
Disabling this
checker may have
side effects on
protocol
correctness</td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">GLS_SIM</span></code></td>
<td>Enable gate
simulation build</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">GLS_VERILOG_OPT</span></code></td>
<td>Libraries that
enable Intel
gate simulation</td>
<td>Quartus EDA
simulation library
paths</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_CONFIG</span></code></td>
<td>ASE Run-time
configuration
file (described
<a class="reference external" href="#ase-runtime-configuration-options">here</a>)</td>
<td><code class="docutils literal"><span class="pre">$ASE_SRCDIR/ase.c</span>
<span class="pre">fg</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_SCRIPT</span></code></td>
<td>ASE Regression
script path</td>
<td><code class="docutils literal"><span class="pre">$ASE_SRCDIR/ase_r</span>
<span class="pre">egress.sh</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TIMESCALE</span></code></td>
<td>Simulator
timescale</td>
<td><code class="docutils literal"><span class="pre">1ps/1ps</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASEHW_FILE_LIST</span></code></td>
<td>ASE RTL File
list</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_MEM_FILE_LIST</span></code></td>
<td>ASE RTL file
list for
programmable
FPGA
acceleration
card mode memory</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_INCDIR</span></code></td>
<td>ASE Include
directory paths</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_TOP</span></code></td>
<td>ASE top level
entity (must not
be changed)</td>
<td><code class="docutils literal"><span class="pre">ase_top</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">CC_OPT</span></code></td>
<td>ASE Software
Library compiler
build options</td>
<td><p class="first"><a href="#id1"><span class="problematic" id="id2">``</span></a>-g -m64 -fPIC -D
SIM_SIDE=1 -I $(ASE
_SRCDIR)/sw/ -D SIM
ULATOR=VCS -D $(ASE
_PLATFORM) -Wall -I</p>
<blockquote>
<div>$(VCS_HOME)/includ</div></blockquote>
<p class="last">e/``</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_LD_SWITCHES</span></code></td>
<td>ASE Software
Linker switches</td>
<td><code class="docutils literal"><span class="pre">-lrt</span> <span class="pre">-lpthread</span> <span class="pre">-l</span>
<span class="pre">stdc++</span> <span class="pre">-luuid</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">SNPS_VHDLAN_OPT</span></code></td>
<td>Synopsys VCS-MX
VHDL compile
options (add
extra options to
<a href="#id3"><span class="problematic" id="id4">``</span></a>ase_sources.mk
<a href="#id5"><span class="problematic" id="id6">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">SNPS_VLOGAN_OPT</span></code></td>
<td>Synopsys VCS-MX
SystemVerilog
compile options
(add extra
options to
<a href="#id7"><span class="problematic" id="id8">``</span></a>ase_sources.mk
<a href="#id9"><span class="problematic" id="id10">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">SNPS_VCS_OPT</span></code></td>
<td>Synopsys VCS-MX
options for
building
simulator
executable (add
extra options to
<a href="#id11"><span class="problematic" id="id12">``</span></a>ase_sources.mk
<a href="#id13"><span class="problematic" id="id14">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">SNPS_SIM_OPT</span></code></td>
<td>Synopsys VCS-MX
Simulation
options (add
extra options
may to
<a href="#id15"><span class="problematic" id="id16">``</span></a>ase_sources.mk
<a href="#id17"><span class="problematic" id="id18">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">MENT_VCOM_OPT</span></code></td>
<td>Mentor
Modelsim-SE/Ques
tasim
VHDL compile
options (add
extra options to
<a href="#id19"><span class="problematic" id="id20">``</span></a>ase_sources.mk
<a href="#id21"><span class="problematic" id="id22">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">MENT_VLOG_OPT</span></code></td>
<td>Mentor
Modelsim-SE/Ques
tasim
{System}Verilog
compile options
(add extra
options to
<a href="#id23"><span class="problematic" id="id24">``</span></a>ase_sources.mk
<a href="#id25"><span class="problematic" id="id26">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">MENT_VSIM_OPT</span></code></td>
<td>Mentor
Modelsim-SE/Ques
tasim
VHDL simulation
options (add
extra options to
<a href="#id27"><span class="problematic" id="id28">``</span></a>ase_sources.mk
<a href="#id29"><span class="problematic" id="id30">``</span></a>)</td>
<td>Refer to
<code class="docutils literal"><span class="pre">ase/Makefile</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DUT_VLOG_SRC_LIST</span></code></td>
<td>Points to a text
file listing AFU
{System}Verilog
files (usually
<code class="docutils literal"><span class="pre">vlog_files.lis</span>
<span class="pre">t</span></code>)</td>
<td>User generated</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DUT_VHDL_SRC_LIST</span></code></td>
<td>Points to a text
file listing AFU
VHDL files
(usually
<code class="docutils literal"><span class="pre">vhdl_files.lis</span>
<span class="pre">t</span></code></td>
<td>User generated</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DUT_INCDIR</span></code></td>
<td>Lists AFU
include
directories
separated by a
‘+’ (usually in
<a href="#id31"><span class="problematic" id="id32">``</span></a>ase_sources.mk
<a href="#id33"><span class="problematic" id="id34">``</span></a>)</td>
<td>User generated</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ase-runtime-configuration-options">
<h3>ASE Runtime Configuration Options<a class="headerlink" href="#ase-runtime-configuration-options" title="Permalink to this headline">¶</a></h3>
<p>The ASE configuration file configures simulator behavior. An example
configuration script is available at <code class="docutils literal"><span class="pre">ase/ase.cfg</span></code></p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="49%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Switch Name</th>
<th class="head">Default</th>
<th class="head">Descripti
on</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_MODE</span></code></td>
<td>1</td>
<td>ASE mode
has the
following
valid
values: 1
:
Standard
Server-Cl
ient
Mode2 :
Simulator
stops
after
<code class="docutils literal"><span class="pre">ASE_TIM</span>
<span class="pre">EOUT</span></code>
clocks3 :
Software
shuts
down
simulator
when
client
applicati
on
releases
session 4
:
Regressio
n
mode
invoked
by
script&gt;=5
: Ignored
(revert
to
<code class="docutils literal"><span class="pre">ASE_MOD</span>
<span class="pre">E=1</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ASE_TIMEOUT</span></code></td>
<td>50000 (only if <code class="docutils literal"><span class="pre">ASE_MODE=2</span></code>)</td>
<td>Watchdog
timer
shuts
down
simulator
after
<code class="docutils literal"><span class="pre">ASE_TIM</span>
<span class="pre">EOUT</span></code>
clocks of
CCI-P
interface
inactivit
y.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_NUM_TESTS</span></code></td>
<td>500 (only if <code class="docutils literal"><span class="pre">ASE_MODE=4</span></code>)</td>
<td>Number of
tests in
regressio
n
mode. If
incorrect
ly
set, the
simulator
may exit
pre-matur
ely
or stall
waiting
for tests
to get
started.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ENABLE_REUSE_D</span></code></td>
<td>1</td>
<td>When set
to 1,
reuses
the
simulatio
n
seed, so
that
CCI-P
transacti
ons
replay
with the
previous
addresses
.
When set
to 0,
obtains a
new seed.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ASE_SEED</span></code></td>
<td>1234 (only if
<code class="docutils literal"><span class="pre">ENABLE_REUSE_SEED=1</span></code>)</td>
<td>ASE seed
setting,
enabled
when
<code class="docutils literal"><span class="pre">ENABLE_</span>
<span class="pre">REUSE_SEE</span>
<span class="pre">D</span></code>
is set to
1,
otherwise
the
simulatio
ns
uses a
different
seed. At
the end
of the
simulatio
n,
the ASE
writes
the
current
seed to
<a href="#id35"><span class="problematic" id="id36">``</span></a>$ASE_WO
RKDIR/ase
_seed.txt
<a href="#id37"><span class="problematic" id="id38">``</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ENABLE_CL_VIEW</span></code></td>
<td>1</td>
<td>The ASE
prints
all CCI-P
transacti
ons.
On long
simulatio
n
runs,
setting
<code class="docutils literal"><span class="pre">ENABLE_</span>
<span class="pre">CL_VIEW</span></code>
to 0 may
reduce
simulatio
n
time.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">PHYS_MEMORY_AVAILAB</span>
<span class="pre">LE_GB</span></code></td>
<td>32</td>
<td>Restricts
ASE
address
generatio
n
the
specified
memory
range.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="logging-verbosity-control">
<h3>Logging Verbosity Control<a class="headerlink" href="#logging-verbosity-control" title="Permalink to this headline">¶</a></h3>
<p>ASE provides the following three levels for logging message verbosity.
By default, these messages print to <code class="docutils literal"><span class="pre">stdout</span></code>:</p>
<ul class="simple">
<li>ASE_INFO: Prints mandatory information messages required to specify
operation.</li>
<li>ASE_ERR: Prints error messages during operation.</li>
<li>ASE_MSG: Prints general messages indicating check points in the ASE.
Suppress these messages by setting the environment variable
<code class="docutils literal"><span class="pre">ASE_LOG</span></code> to <code class="docutils literal"><span class="pre">0</span></code>.</li>
</ul>
<p>The following command suppresses the ASE_MSG category:</p>
<div class="code bash highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">ASE_LOG</span><span class="o">=</span><span class="m">0</span> <span class="nv">LD_PRELOAD</span><span class="o">=</span>libopae-c-ase ./hello_fpga
</pre></div>
</div>
<p>You cannot suppress warnings and errors.</p>
</div>
<div class="section" id="troubleshooting-and-error-reference">
<h3>Troubleshooting and Error Reference<a class="headerlink" href="#troubleshooting-and-error-reference" title="Permalink to this headline">¶</a></h3>
<p>The following list of ASE errors and warnings is not comprehensive:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="28%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Observation</th>
<th class="head">Problem</th>
<th class="head">Next Steps</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Either all transactions
are not seen or
simulation ends earlier
than expected.</td>
<td>ASE Simulation
inactivity is too
short for the
application
use-case to be
successfully
simulated in the
ASE.</td>
<td>If using
<code class="docutils literal"><span class="pre">ASE_MODE=2</span></code>
(Daemon with
timeout), in the
<code class="docutils literal"><span class="pre">ase.cfg</span></code> file,
increase the
<code class="docutils literal"><span class="pre">ASE_TIMEOUT</span></code>
setting or disable
<code class="docutils literal"><span class="pre">ASE_TIMEOUT</span></code>.</td>
</tr>
<tr class="row-odd"><td>ASE simulation build
error - compilation, or
linking failed</td>
<td>GCC version might
be too old.</td>
<td>In the <code class="docutils literal"><span class="pre">ase</span></code>
directory try the
following command
<code class="docutils literal"><span class="pre">$</span> <span class="pre">make</span> <span class="pre">sw_build</span></code>
ASE builds correctly
with GCC 4.8.5 or
higher. Use the
<code class="docutils literal"><span class="pre">ase/scripts/env_ch</span>
<span class="pre">eck.sh</span></code>
script to identify
issues.</td>
</tr>
<tr class="row-even"><td>Synopsys VCS-MX dumped
stack while compiling or
running</td>
<td>Possible
corruption of
compiled objects
or problems with
incremental
compilation.</td>
<td>Clean the ASE
environment using
<code class="docutils literal"><span class="pre">$</span> <span class="pre">make</span> <span class="pre">clean</span></code>
If this command
fails, clean the
distribution with
<a href="#id39"><span class="problematic" id="id40">``</span></a>$ ./distclean.sh
<a href="#id41"><span class="problematic" id="id42">``</span></a>then
rebuild the
simulation.</td>
</tr>
<tr class="row-odd"><td>ERROR: Too many open
files</td>
<td>Past ASE
simulation runs
did not close
cleanly and may
have left behind
open IPC
instances.</td>
<td>Use the
<code class="docutils literal"><span class="pre">$ASE_SRCDIR/script</span>
<span class="pre">s/ipc_clean.py</span></code>
script to clean IPC
instances. Check if
the <a class="reference external" href="#system-requirements">System
Requirements</a>
have been met. If
problems continue,
increase resource
limits for your
Linux distribution.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">$ASE_WORKDIR</span></code>
environment variable has
not been set up</td>
<td>Application
cannot find a
valid simulation
session</td>
<td>Follow the steps
printed when the ASE
simulation starts.
These instructions
are in green text.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">.ase_timestamp</span></code> cannot
be opened at
<code class="docutils literal"><span class="pre">&lt;DIRECTORY&gt;</span></code></td>
<td>Simulator may not
have been started
yet. Note that
when started, the
simulator prints:
Ready for
Simulation<code class="docutils literal"><span class="pre">$AS</span>
<span class="pre">E_WORKDIR</span></code>
may not set up
correctly.</td>
<td>Check the
ASE_WORKDIR
environment
variable.
<code class="docutils literal"><span class="pre">$</span> <span class="pre">echo</span> <span class="pre">$ASE_WORK</span>
<span class="pre">DIR</span></code>
Wait for simulator
to print:
<code class="docutils literal"><span class="pre">Ready</span> <span class="pre">for</span> <span class="pre">Simulati</span>
<span class="pre">on</span></code></td>
</tr>
<tr class="row-even"><td><dl class="first last docutils">
<dt><a href="#id43"><span class="problematic" id="id44">``</span></a>ase_sources.mk: No such</dt>
<dd>file or directory``</dd>
</dl>
</td>
<td>ASE Environment
has not been
generated.</td>
<td>Generate an AFU RTL
listing (in
<code class="docutils literal"><span class="pre">vlog_files.list</span></code>
and
<code class="docutils literal"><span class="pre">ase_sources.mk</span></code>)
configuration. You
can use
<code class="docutils literal"><span class="pre">ase/scripts/genera</span>
<span class="pre">te_ase_environment.p</span>
<span class="pre">y</span></code>to
generate these
files.</td>
</tr>
<tr class="row-odd"><td>An ASE instance is
probably still running in
current directory.</td>
<td>An ASE simulation
is already
running in the
<code class="docutils literal"><span class="pre">$ASE_WORKDIR</span></code>
directory.</td>
<td>If the simulation
process is unusable
or unreachable, use
the
<code class="docutils literal"><span class="pre">ase/scripts/ipc_cl</span>
<span class="pre">ean.py</span></code>
script to clean the
simulation temporary
files using:
<code class="docutils literal"><span class="pre">$</span> <span class="pre">make</span> <span class="pre">clean</span></code>.
Then rebuild the
simulator.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="60%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Document
Version</th>
<th class="head">Intel Acceleration Stack Version</th>
<th class="head">Changes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>2018.04.16</td>
<td>1.1 Alpha. (Supported with Intel
Quartus Prime Pro Edition 17.1.1.)</td>
<td>Made the
followin
g
changes:
* Added
<code class="docutils literal"><span class="pre">afu_si</span>
<span class="pre">m_setup`</span>
<span class="pre">`</span>
<span class="pre">script</span>
<span class="pre">which</span>
<span class="pre">reads</span> <span class="pre">a</span>
<span class="pre">file</span>
<span class="pre">containi</span>
<span class="pre">ng</span>
<span class="pre">a</span> <span class="pre">list</span>
<span class="pre">of</span> <span class="pre">RTL</span>
<span class="pre">sources</span>
<span class="pre">and</span>
<span class="pre">construc</span>
<span class="pre">ts</span>
<span class="pre">an</span> <span class="pre">ASE</span>
<span class="pre">tree</span> <span class="pre">to</span>
<span class="pre">compile</span>
<span class="pre">and</span>
<span class="pre">simulate</span>
<span class="pre">.</span>
<span class="pre">\*</span> <span class="pre">Added</span>
<span class="pre">``/platf</span>
<span class="pre">orms/scr</span>
<span class="pre">ipts/rtl</span>
<span class="pre">_src_con</span>
<span class="pre">fig</span></code>
script
which
maps a
simple
text
file
containi
ng
a list
of RTL
source
files to
an ASE
configur
ation.
*
Updated
figures
to show
the
hardware
availabl
e
in the
Intel
PAC with
Arria®
10 GX
FPGA.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../README.html" class="btn btn-neutral float-right" title="OPAE Python Bindings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../fpga_api/prog_guide/readme.html" class="btn btn-neutral float-left" title="OPAE C API Programming Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>