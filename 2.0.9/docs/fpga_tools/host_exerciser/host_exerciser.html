

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>host_exerciser &mdash; OPAE</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> OPAE
          

          
          </a>

          
            
            
              <div class="version">
                2.0.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">OPAE User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/quick_start/readme.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install_guide/installation_guide.html">OPAE Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/prog_guide/readme.html">OPAE C API Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ase_userguide/ase_userguide.html">Intel® Accelerator Functional Unit (AFU) Simulation Environment (ASE) User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pyopae/README.html">OPAE Python Bindings</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../build_chain/fpga_api/api_build.html">Building OPAE SDK Artifacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/fpga_api.html">OPAE C API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/fpga_cxx_api.html">OPAE C++ Core API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/fpga_python_api.html">OPAE Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga_api/plug_guide/readme.html">Plugin Developer’s Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE Linux Kernel Drivers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../drv_arch/drv_arch.html">Open Programmable Accelerator Engine (OPAE) Linux Device Driver Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">OPAE FPGA Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fpgaconf/fpgaconf.html">fpgaconf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpgad/fpgad.html">fpgad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpgadiag/README.html">fpgadiag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpgainfo/fpgainfo.html">fpgainfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpgaport/fpgaport.html">fpgaport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpgasupdate/fpgasupdate.html">fpgasupdate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mmlink/mmlink.html">mmlink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packager/packager.html">packager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userclk/userclk.html">userclk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hssi/hssi.html">hssi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../opaevfio/opaevfio.html">opaevfio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pci_device/pci_device.html">pci_device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../opae.io/opae.io.html">opae.io</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OPAE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>host_exerciser</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/fpga_tools/host_exerciser/host_exerciser.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="host-exerciser">
<h1>host_exerciser<a class="headerlink" href="#host-exerciser" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Usage: host_exerciser [OPTIONS] SUBCOMMAND</span>


<span class="go">Options:</span>
<span class="go">  -h,--help                   Print this help message and exit</span>
<span class="go">  -p,--pci-address TEXT       [&lt;domain&gt;:]&lt;bus&gt;:&lt;device&gt;.&lt;function&gt;</span>
<span class="go">  -l,--log-level TEXT:{trace,debug,info,warning,error,critical,off}=info</span>
<span class="go">                              stdout logging level</span>
<span class="go">  -s,--shared                 open in shared mode, default is off</span>
<span class="go">  -t,--timeout UINT=60000     test timeout (msec)</span>
<span class="go">  -m,--mode UINT:value in {lpbk-&gt;0,read-&gt;1,trput-&gt;3,write-&gt;2} OR {0,1,3,2}=lpbk</span>
<span class="go">                              host exerciser mode {lpbk,read, write, trput}</span>
<span class="go">  --cls UINT:value in {cl_1-&gt;0,cl_2-&gt;1,cl_4-&gt;2} OR {0,1,2}=cl_1</span>
<span class="go">                              number of CLs per request{cl_1, cl_2, cl_4}</span>
<span class="go">  --continuousmode UINT=false test rollover or test termination</span>
<span class="go">  -d,--delay UINT=false       Enables random delay insertion between requests</span>
<span class="go">  --interleave UINT=0         Interleave requests pattern to use in throughput mode {0, 1, 2}</span>
<span class="go">                              indicating one of the following series of read/write requests:</span>
<span class="go">                              0: rd-wr-rd-wr</span>
<span class="go">                              1: rd-rd-wr-wr</span>
<span class="go">                              2: rd-rd-rd-rd-wr-wr-wr-wr</span>
<span class="go">  --interrupt UINT:INT in [0 - 3]</span>
<span class="go">                              The Interrupt Vector Number for the device</span>
<span class="go">  --perf UINT=false           Enable perf counters</span>
<span class="go">                              Set the capabilities for binary(for non-root user)</span>
<span class="go">                              set capabilities: &quot;sudo setcap 38,cap_sys_ptrace,cap_syslog+eip /usr/bin/host_exerciser&quot;</span>
<span class="go">                              remove capabilities: &quot;sudo setcap -r /usr/bin/host_exerciser&quot;</span>

<span class="go">Subcommands:</span>
<span class="go">  lpbk                        run simple loopback test</span>
<span class="go">  mem                         run simple mem test</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The host exerciser used to exercise and characterize the various host-FPGA
interactions eg. MMIO, Data transfer from host to FPGA , PR, host to FPGA memory etc.</p>
<div class="section" id="host-exerciser-loopback-he-lbk">
<h3>Host Exerciser Loopback (HE-LBK)<a class="headerlink" href="#host-exerciser-loopback-he-lbk" title="Permalink to this headline">¶</a></h3>
<p>Host Exerciser Loopback (HE-LBK) AFU can move data between host memory and FPGA.</p>
<p>HE-LBK supports:</p>
<ol class="simple">
<li><p>Latency (AFU to Host memory read)</p></li>
<li><p>MMIO latency (Write+Read)</p></li>
<li><p>MMIO BW (64B MMIO writes)</p></li>
<li><p>BW (Read/Write, Read only, Wr only)</p></li>
</ol>
</div>
<div class="section" id="host-exerciser-loopback-memory-he-mem">
<h3>Host Exerciser Loopback Memory (HE-Mem)<a class="headerlink" href="#host-exerciser-loopback-memory-he-mem" title="Permalink to this headline">¶</a></h3>
<p>The host exerciser used to exercise use of FPGA connected DDR, data read
from the host is written to DDR, and the same data is read from DDR before sending it back to the host</p>
</div>
<div class="section" id="host-exerciser-sub-commands">
<h3>HOST EXERCISER SUB COMMANDS<a class="headerlink" href="#host-exerciser-sub-commands" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">lpbk</span></code></p>
<p>run host exerciser loopback test</p>
<p><code class="docutils literal notranslate"><span class="pre">mem</span></code></p>
<p>run host exerciser memory test</p>
</div>
</div>
<div class="section" id="optional-arguments">
<h2>OPTIONAL ARGUMENTS<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">--help,</span> <span class="pre">-h</span></code></p>
<p>Prints help information and exit.</p>
</div>
<div class="section" id="common-arguments-options">
<h2>COMMON ARGUMENTS / OPTIONS<a class="headerlink" href="#common-arguments-options" title="Permalink to this headline">¶</a></h2>
<p>The following arguments are common to all commands and are optional.</p>
<p><code class="docutils literal notranslate"> <span class="pre">-p,--pci-address</span></code></p>
<p>PCIe domain, bus, device, function number of fpga resource.</p>
<p><code class="docutils literal notranslate"><span class="pre">-l,--log-level</span></code></p>
<p>set host exerciser tool log level, trace, debug, info, warning, error, critical, off</p>
<p><code class="docutils literal notranslate"><span class="pre">-s,--shared</span> </code></p>
<p>open FPGA PCIe resource in shared mode</p>
<p><code class="docutils literal notranslate"><span class="pre">-t,--timeout</span></code></p>
<p>host exerciser tool time out, by default time out 60000</p>
<p><code class="docutils literal notranslate"><span class="pre">-m,--mode</span></code></p>
<p>host exerciser test modes are lpbk, read, write, trput</p>
<p><code class="docutils literal notranslate"><span class="pre">--cls</span></code></p>
<p>Number of cachelines per request 1, 2, 4.</p>
<p><code class="docutils literal notranslate"><span class="pre">--continuousmode</span></code></p>
<p>Configures test rollover or test termination mode.</p>
<p><code class="docutils literal notranslate"><span class="pre">-d,--delay</span></code></p>
<p>Enables random delay insertion between requests.</p>
<p><code class="docutils literal notranslate"><span class="pre">--interleave</span></code></p>
<p>Enables interleave requests in throughput mode.
Value:3’b000-Rd,Wr,Rd,Wr
Value:3’b001-Rd,Rd,Wr,Wr
Value:3’b010-Rd,Rd,Rd,Rd,Wr,Wr,Wr,Wr
Value:3’b011-Not supported</p>
<p><code class="docutils literal notranslate"><span class="pre">--interrupt</span></code></p>
<p>Accelerator interrupt vector Number.</p>
<p><code class="docutils literal notranslate"><span class="pre">--perf</span></code></p>
<p>Enable performance counters.</p>
</div>
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>This command exerciser Loopback afu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./host_exerciser lpbk</span>
</pre></div>
</div>
<p>This command exerciser memory afu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./host_exerciser mem</span>
</pre></div>
</div>
<p>This command exerciser Loopback afu on pcie 000:3b:00.0:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./host_exerciser --pci-address 000:3b:00.0    lpbk</span>


<span class="go">This command exerciser Loopback afu on pcie 000:3b:00.0 and run in write mode:</span>
<span class="go">```console</span>
<span class="go">./host_exerciser --pci-address 000:3b:00.0   --mode write lpbl</span>



<span class="gp">#</span><span class="c1"># Revision History ##</span>

<span class="go"> | Document Version |  Intel Acceleration Stack Version  | Changes  |</span>
<span class="go"> | ---------------- |------------------------------------|----------|</span>
<span class="go"> | 2018.05.21 | 1.1 Beta. &lt;br&gt;(Supported with Intel Quartus Prime Pro Edition 17.1.) | Updated description of the `fme` command | </span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Intel Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>